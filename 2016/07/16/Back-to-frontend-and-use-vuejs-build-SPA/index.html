<!DOCTYPE html>












  


<html class="theme-next gemini use-motion" lang="">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2"/>
<meta name="theme-color" content="#222">












<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />






















<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=6.4.0" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=6.4.0">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=6.4.0">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=6.4.0">


  <link rel="mask-icon" href="/images/logo.svg?v=6.4.0" color="#222">









<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Gemini',
    version: '6.4.0',
    sidebar: {"position":"right","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: false,
    fastclick: false,
    lazyload: false,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>


  




  <meta name="description" content="Back-to-frontend-and-use-vuejs-build-SPA一年多不做web前端开发了，没想到因为人事变动，项目需要又开始去担任前端团队那个角色，这一次感触又变多了。之前在做webapp的时候还是一股脑使用的原声js去实现，甚至连zepto这么优秀的library都没有去使用，想想自己也够傻的，不过折腾完也就好了，更多的是折腾过后内心更踏实了。 这一次又面临着webapp，考察">
<meta property="og:type" content="article">
<meta property="og:title" content="Back-to-frontend-and-use-vuejs-build-SPA">
<meta property="og:url" content="http://yoursite.com/2016/07/16/Back-to-frontend-and-use-vuejs-build-SPA/index.html">
<meta property="og:site_name" content="liujb&#39;s blog">
<meta property="og:description" content="Back-to-frontend-and-use-vuejs-build-SPA一年多不做web前端开发了，没想到因为人事变动，项目需要又开始去担任前端团队那个角色，这一次感触又变多了。之前在做webapp的时候还是一股脑使用的原声js去实现，甚至连zepto这么优秀的library都没有去使用，想想自己也够傻的，不过折腾完也就好了，更多的是折腾过后内心更踏实了。 这一次又面临着webapp，考察">
<meta property="og:locale" content="default">
<meta property="og:image" content="http://7xp4um.com1.z0.glb.clouddn.com/lifecycle.png">
<meta property="og:image" content="http://7xp4um.com1.z0.glb.clouddn.com/14577592596019/14640836484198.jpg">
<meta property="og:image" content="http://o77qh5rkr.bkt.clouddn.com/14610445225996.jpg">
<meta property="og:updated_time" content="2018-08-30T06:07:26.256Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Back-to-frontend-and-use-vuejs-build-SPA">
<meta name="twitter:description" content="Back-to-frontend-and-use-vuejs-build-SPA一年多不做web前端开发了，没想到因为人事变动，项目需要又开始去担任前端团队那个角色，这一次感触又变多了。之前在做webapp的时候还是一股脑使用的原声js去实现，甚至连zepto这么优秀的library都没有去使用，想想自己也够傻的，不过折腾完也就好了，更多的是折腾过后内心更踏实了。 这一次又面临着webapp，考察">
<meta name="twitter:image" content="http://7xp4um.com1.z0.glb.clouddn.com/lifecycle.png">






  <link rel="canonical" href="http://yoursite.com/2016/07/16/Back-to-frontend-and-use-vuejs-build-SPA/"/>



<script type="text/javascript" id="page.configurations">
  CONFIG.page = {
    sidebar: "",
  };
</script>

  <title>Back-to-frontend-and-use-vuejs-build-SPA | liujb's blog</title>
  









  <noscript>
  <style type="text/css">
    .use-motion .motion-element,
    .use-motion .brand,
    .use-motion .menu-item,
    .sidebar-inner,
    .use-motion .post-block,
    .use-motion .pagination,
    .use-motion .comments,
    .use-motion .post-header,
    .use-motion .post-body,
    .use-motion .collection-title { opacity: initial; }

    .use-motion .logo,
    .use-motion .site-title,
    .use-motion .site-subtitle {
      opacity: initial;
      top: initial;
    }

    .use-motion {
      .logo-line-before i { left: initial; }
      .logo-line-after i { right: initial; }
    }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="default">

  
  
    
  

  <div class="container sidebar-position-right page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">liujb's blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
    
  </div>

  <div class="site-nav-toggle">
    <button aria-label="Toggle navigation bar">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>



<nav class="site-nav">
  
    <ul id="menu" class="menu">
      
        
        
        
          
          <li class="menu-item menu-item-home">
    <a href="/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-home"></i> <br />Home</a>
  </li>
        
        
        
          
          <li class="menu-item menu-item-archives">
    <a href="/archives/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />Archives</a>
  </li>
        
        
        
          
          <li class="menu-item menu-item-tags">
    <a href="/tags/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />Tags</a>
  </li>
        
        
        
          
          <li class="menu-item menu-item-about">
    <a href="/about/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-user"></i> <br />About</a>
  </li>

      
      
    </ul>
  

  

  
</nav>



  



</div>
    </header>

    


    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          
            

          
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2016/07/16/Back-to-frontend-and-use-vuejs-build-SPA/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="liujiangbei">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="liujb's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">Back-to-frontend-and-use-vuejs-build-SPA
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2016-07-16 00:00:00" itemprop="dateCreated datePublished" datetime="2016-07-16T00:00:00+08:00">2016-07-16</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Modified: 2018-08-30 14:07:26" itemprop="dateModified" datetime="2018-08-30T14:07:26+08:00">2018-08-30</time>
              
            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <h1 id="Back-to-frontend-and-use-vuejs-build-SPA"><a href="#Back-to-frontend-and-use-vuejs-build-SPA" class="headerlink" title="Back-to-frontend-and-use-vuejs-build-SPA"></a>Back-to-frontend-and-use-vuejs-build-SPA</h1><p>一年多不做web前端开发了，没想到因为人事变动，项目需要又开始去担任前端团队那个角色，这一次感触又变多了。之前在做webapp的时候还是一股脑使用的原声js去实现，甚至连zepto这么优秀的library都没有去使用，想想自己也够傻的，不过折腾完也就好了，更多的是折腾过后内心更踏实了。</p>
<p>这一次又面临着webapp，考察了小半圈</p>
<ol>
<li>Angularjs</li>
<li>Reactjs</li>
<li>Zepto</li>
<li>Vuejs</li>
</ol>
<p>等库和框架，最终还是选定了<code>vuejs</code>，reactjs和angularjs主要还是觉得体积偏大，<code>zepto</code>还是dom操作，已经不想做dom操作类的web开发了，当然这么说好像是因为别的不优秀从而选择了<code>Vuejs</code>，当然不尽是，vue有以下几个方面让我还是很兴奋的</p>
<ol>
<li>Vuejs的轻量</li>
<li>不像诸如backbone这样的mvc库，没有controller这种蹩脚的东西</li>
<li>组件化</li>
<li>中英文文档齐全，很容易入门。</li>
</ol>
<p>So，我又开启了前端折腾之路，这一次主要利用<code>Vuejs</code>的cli构建SPA应用。</p>
<h1 id="Vue入门笔记"><a href="#Vue入门笔记" class="headerlink" title="Vue入门笔记"></a>Vue入门笔记</h1><p>先放几个文档链接，在开始之前这些文档都应该比较细致的先过一遍。</p>
<p><a href="http://cn.vuejs.org/guide/" target="_blank" rel="noopener">Vue.js1.0中文文档</a><br><a href="http://vuejs.github.io/vue-router/zh-cn/" target="_blank" rel="noopener">vue-router中文文档</a> - 构建SPA需要使用到的<br><a href="https://github.com/vuejs/vue-resource" target="_blank" rel="noopener">vue-resource文档</a> - 进行AJAX请求</p>
<h3 id="实例化Vue"><a href="#实例化Vue" class="headerlink" title="实例化Vue"></a>实例化Vue</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">var vm = new Vue(&#123;</span><br><span class="line">  // 选项</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p><code>Vue</code> 实例其实正是一个 <code>MVVM</code> 模式中所描述的 <code>ViewModel</code>，实例化<code>Vue</code>时，需要传入一个选项对象，它可以包含</p>
<ol>
<li>数据</li>
<li>模板</li>
<li>挂载元素</li>
<li>方法</li>
<li>生命周期钩子</li>
</ol>
<blockquote>
<p> 现在只需知道所有的 Vue.js 组件其实都是被扩展的 Vue 实例。</p>
</blockquote>
<h3 id="创建组件构造函数"><a href="#创建组件构造函数" class="headerlink" title="创建组件构造函数"></a>创建组件构造函数</h3><p>通过Vue.extend创建构造函数，是不是似曾相识，当年的jquery写插件也有这样的extend</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">var ComponentConstructor = Vue.extend(&#123;&#125;)</span><br><span class="line">var myComponentInstance = new MyComponent()</span><br></pre></td></tr></table></figure>
<p>其中 <code>ComponentConstructor</code> 就是组建构造器，而 <code>myComponentInstance</code> 是实例化出来的新组件</p>
<h3 id="注册组件以便使用组件"><a href="#注册组件以便使用组件" class="headerlink" title="注册组件以便使用组件"></a>注册组件以便使用组件</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Vue.component(&apos;my-component&apos;, ComponentConstructor)</span><br></pre></td></tr></table></figure>
<p>注册组件，注册组件过后就可以直接使用组件</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;my-component&gt;&lt;/my-component&gt;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>传入 <code>Vue构造器</code> 的参数选项同样可以传入 <code>Vue.extend({})</code> ，不过 <code>data</code> 和 <code>el</code> 除外</p>
</blockquote>
<h3 id="组件局部注册"><a href="#组件局部注册" class="headerlink" title="组件局部注册"></a>组件局部注册</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">var Child = Vue.extend(&#123; /* ... */ &#125;)</span><br><span class="line"></span><br><span class="line">var Parent = Vue.extend(&#123;</span><br><span class="line">  template: &apos;...&apos;,</span><br><span class="line">  components: &#123;</span><br><span class="line">    // &lt;my-component&gt; 只能用在父组件模板内</span><br><span class="line">    &apos;my-component&apos;: Child</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<h3 id="组件的生命周期"><a href="#组件的生命周期" class="headerlink" title="组件的生命周期"></a>组件的生命周期</h3><p><img src="http://7xp4um.com1.z0.glb.clouddn.com/lifecycle.png" alt="mvvm生命周期"></p>
<blockquote>
<p>以上几个点一开始进入vue的时候很容易混淆，所以重点跟进一下。</p>
</blockquote>
<h1 id="vue-cli-使用"><a href="#vue-cli-使用" class="headerlink" title="vue-cli 使用"></a>vue-cli 使用</h1><p>文档提到使用vue构建大型webapp可以考虑使用vue-cli，经过一顿考察就直接使用了 <a href="https://github.com/vuejs/vue-cli" target="_blank" rel="noopener">参考</a>，而本次的重要任务是构建一个SPA的webapp。<a href="https://segmentfault.com/a/1190000002920768" target="_blank" rel="noopener">为什么要将web打造为SPA</a></p>
<p>在此之前我设想的一个SPA框架可能会包含这些，当然也不仅仅是指SPA，想到哪里就写到哪里</p>
<ol>
<li>router/SPA 统一的路由</li>
<li>restful 跟restful接口数据交互</li>
<li>全局样式Css文件引用问题</li>
<li>mockServer 前端能有mockserver开发的时候不依赖后端</li>
<li>build 构建打包系统</li>
<li>deploy 部署回滚操作</li>
<li>test 单元测试</li>
</ol>
<p>通用功能和组件</p>
<ol start="8">
<li>CSS3 animation 页面切换的动效</li>
<li>float button </li>
<li>step bar</li>
<li>tips </li>
<li>float layer</li>
<li>loading</li>
<li>share </li>
</ol>
<h2 id="使用实战"><a href="#使用实战" class="headerlink" title="使用实战"></a>使用实战</h2><h3 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -g vue-cli</span><br></pre></td></tr></table></figure>
<h3 id="创建项目"><a href="#创建项目" class="headerlink" title="创建项目"></a>创建项目</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vue init webpack vuecli-demo</span><br></pre></td></tr></table></figure>
<h3 id="安装依赖包"><a href="#安装依赖包" class="headerlink" title="安装依赖包"></a>安装依赖包</h3><p>这个地方不得不说，如果没有代理，还是直接切换npm的registry吧，否则很痛苦，配置代理和设置registry的方法</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">npm config set proxy http://127.0.0.1:8118</span><br><span class="line">npm config set https_proxy http://127.0.0.1:8118</span><br><span class="line">npm config set registry http://xx.xx.com</span><br></pre></td></tr></table></figure>
<p>通过<code>npm install</code>安装所有的依赖包</p>
<h3 id="启动程序"><a href="#启动程序" class="headerlink" title="启动程序"></a>启动程序</h3><p>在package.json中有如下片段</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&quot;scripts&quot;: &#123;</span><br><span class="line">	&quot;dev&quot;: &quot;node build/dev-server.js&quot;,</span><br><span class="line">	&quot;build&quot;: &quot;node build/build.js&quot;,</span><br><span class="line">	&quot;unit&quot;: &quot;karma start test/unit/karma.conf.js --single-run&quot;,</span><br><span class="line">	&quot;e2e&quot;: &quot;node test/e2e/runner.js&quot;,</span><br><span class="line">	&quot;test&quot;: &quot;npm run unit &amp;&amp; npm run e2e&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>所以通过<code>npm run dev</code>就能出线如下日志的时候</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">liujb@bogon:~/Dropbox/Code/ManStatic/vuecli-demo » npm run dev</span><br><span class="line"></span><br><span class="line">&gt; vuecli-demo@0.1.0 dev /Users/liujb/Dropbox/Code/ManStatic/vuecli-demo</span><br><span class="line">&gt; node build/dev-server.js</span><br><span class="line"></span><br><span class="line">Listening at http://localhost:8080</span><br><span class="line"></span><br><span class="line">webpack built ae7bf9ee3c83122ffc3d in 2946ms</span><br><span class="line">Hash: ae7bf9ee3c83122ffc3d</span><br><span class="line">Version: webpack 1.13.1</span><br><span class="line">Time: 2946ms</span><br><span class="line">     Asset       Size  Chunks             Chunk Names</span><br><span class="line">    app.js    1.06 MB       0  [emitted]  app</span><br><span class="line">index.html  244 bytes          [emitted]</span><br><span class="line">Child html-webpack-plugin for &quot;index.html&quot;:</span><br><span class="line">         Asset     Size  Chunks       Chunk Names</span><br><span class="line">    index.html  21.5 kB       0</span><br><span class="line">webpack: bundle is now VALID.</span><br></pre></td></tr></table></figure>
<p>表示就能直接访问了，如图</p>
<p><img src="http://7xp4um.com1.z0.glb.clouddn.com/14577592596019/14640836484198.jpg" alt=""></p>
<h2 id="遇到的问题"><a href="#遇到的问题" class="headerlink" title="遇到的问题"></a>遇到的问题</h2><p>从这一段开始，后边的内容都比较零散，仅供参考。</p>
<h3 id="如果引入全局CSS"><a href="#如果引入全局CSS" class="headerlink" title="如果引入全局CSS"></a>如果引入全局CSS</h3><p>解决方案就是在main.js中引入，引入方法如下</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">import &apos;./assets/css/normalize.css&apos;</span><br><span class="line">import &apos;./assets/css/layout.css&apos;</span><br><span class="line">import &apos;./assets/css/common.css&apos;</span><br></pre></td></tr></table></figure>
<h3 id="Vue组件绑定事件"><a href="#Vue组件绑定事件" class="headerlink" title="Vue组件绑定事件"></a>Vue组件绑定事件</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div id=&quot;dvPackage&quot;&gt;</span><br><span class="line">    &#123;&#123; msg &#125;&#125;</span><br><span class="line">    &lt;a class=&quot;btn-orange&quot; @click.stop.prevent=&quot;do&quot; v-on:click=&quot;onClick&quot;&gt;I want to click&lt;/a&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  data () &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      msg: &apos;Fucking&apos;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    onClick (e) &#123;</span><br><span class="line">      console.log(e)</span><br><span class="line">      console.log(e.target.getAttribute(&apos;class&apos;))</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>
<p>而组件使用过程</p>
<ol>
<li><code>.vue</code>件编写组件</li>
<li>Vue.extend(require(“xx.vue”))实例化组件</li>
<li>Vue.component()注册组件;</li>
</ol>
<p>在页面中也可以直接</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">import FloatButton from &apos;../common/FloatButton&apos; // 引入FloatButton组件</span><br></pre></td></tr></table></figure>
<p>在home.vue文件中的</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">export default &#123;</span><br><span class="line">	components: components: &#123; NextBar, FloatButton &#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>这样在template片段中就能够直接使用</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;div&gt;</span><br><span class="line">	&lt;float-button&gt;&lt;/float-button&gt;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure>
<h3 id="组件使用"><a href="#组件使用" class="headerlink" title="组件使用"></a>组件使用</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">var ac = Vue.component(&apos;float-button&apos;, &#123;</span><br><span class="line">  template: FloatButton.template,</span><br><span class="line">  data () &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      name: &apos;liujiangbei&apos;,</span><br><span class="line">      btnText: &apos;关闭&apos;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    btnClick: function (e) &#123;</span><br><span class="line">      console.log(&apos;fucking&apos;)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line">console.log(1234)</span><br><span class="line">console.log(ac)</span><br><span class="line">var floatButton = new FloatButton(&#123;</span><br><span class="line">  data () &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      name: &apos;liujiangbeissss&apos;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">floatButton.$mount(&apos;#provision-wrap&apos;)</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=&quot;mount-point&quot;&gt;&lt;/div&gt;</span><br><span class="line"></span><br><span class="line">// 创建可复用的构造器</span><br><span class="line">var Profile = Vue.extend(&#123;</span><br><span class="line">  template: &apos;&lt;p&gt;&#123;&#123;firstName&#125;&#125; &#123;&#123;lastName&#125;&#125; aka &#123;&#123;alias&#125;&#125;&lt;/p&gt;&apos;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">// 创建一个 Profile 实例</span><br><span class="line">var profile = new Profile(&#123;</span><br><span class="line">  data: &#123;</span><br><span class="line">    firstName: &apos;Walter&apos;,</span><br><span class="line">    lastName: &apos;White&apos;,</span><br><span class="line">    alias: &apos;Heisenberg&apos;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">// 挂载到元素上</span><br><span class="line">profile.$mount(&apos;#mount-point&apos;)</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=&quot;example&quot;&gt;</span><br><span class="line">  &lt;my-component&gt;&lt;/my-component&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line"></span><br><span class="line">// 定义</span><br><span class="line">var MyComponent = Vue.extend(&#123;</span><br><span class="line">  template: &apos;&lt;div&gt;A custom component!&lt;/div&gt;&apos;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">// 注册</span><br><span class="line">Vue.component(&apos;my-component&apos;, MyComponent)</span><br><span class="line"></span><br><span class="line">// 创建根实例</span><br><span class="line">new Vue(&#123;</span><br><span class="line">  el: &apos;#example&apos;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>渲染为：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=&quot;example&quot;&gt;</span><br><span class="line">  &lt;div&gt;A custom component!&lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">A custom component!</span><br></pre></td></tr></table></figure>
<h3 id="如何使用Ajax"><a href="#如何使用Ajax" class="headerlink" title="如何使用Ajax"></a>如何使用Ajax</h3><p><a href="https://github.com/vuejs/vue-resource" target="_blank" rel="noopener">vue-resource</a></p>
<h3 id="如何在组件中共享数据"><a href="#如何在组件中共享数据" class="headerlink" title="如何在组件中共享数据"></a>如何在组件中共享数据</h3><p>通过props实现，在组件中使用</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">export default &#123;</span><br><span class="line">  data () &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      Height: &apos;&apos;,</span><br><span class="line">      left: &apos;&apos;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  props: [&apos;Text&apos;, &apos;Show&apos;],</span><br><span class="line">  ready: function () &#123;</span><br><span class="line">    this.Height = window.screen.availHeight + &apos;px&apos;</span><br><span class="line">    var width = document.documentElement.clientWidth</span><br><span class="line">    this.left = ((width / 20) - 5.5) / (width / 10) * 100</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>这样子在外部使用的时候就可以</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;loading text=&apos;加载中&apos;&gt;&lt;/loading&gt;</span><br></pre></td></tr></table></figure>
<h3 id="使用webpack构建的时候报错"><a href="#使用webpack构建的时候报错" class="headerlink" title="使用webpack构建的时候报错"></a>使用webpack构建的时候报错</h3><p>页面中多了一个<code>&lt;</code>，注意严格编写html模版，否则经常会有打包的时候报错。</p>
<h3 id="如何优雅的从外部传递初始化组件"><a href="#如何优雅的从外部传递初始化组件" class="headerlink" title="如何优雅的从外部传递初始化组件"></a>如何优雅的从外部传递初始化组件</h3><p>直接更改组件的data属性即可</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">import FloatButton from &apos;../common/FloatButton&apos;</span><br><span class="line"></span><br><span class="line">FloatButton.data = function () &#123;</span><br><span class="line">  return &#123;</span><br><span class="line">    btnText: &apos;关闭1&apos;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">FloatButton.methods.btnClick = function (e) &#123;</span><br><span class="line">  this.$router.go(&apos;/&apos;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>但是这样子引入多个控件的时候会导致多次设置的值不管用了！！！靠靠靠</p>
<p>最终解决方式</p>
<ol>
<li>还是通过props共享数据</li>
<li>通过dispatch向上分发事件，然后父类组件通过events监听子组件的分发的事件来解决传入回调的思路</li>
</ol>
<h3 id="store模式"><a href="#store模式" class="headerlink" title="store模式"></a>store模式</h3><p>通过路由的变化，以及不同组件的数据和状态，意味着状态和数据是实时动态变化的，为了更好地管理状态，将这些共享的组件集中管理。而同时应该明确： 组件间不应紧密耦合；不应任意直接修改父组件状态。</p>
<p><a href="http://imjeen.github.io/spa/2015/12/25/spa-vuejs" target="_blank" rel="noopener"></a></p>
<h3 id="assets和static区别"><a href="#assets和static区别" class="headerlink" title="assets和static区别"></a>assets和static区别</h3><p><code>assets</code> 和外层 <code>static</code> 区别在于，<code>assets</code> 需要被处理，而 <code>static</code> 不需要处理，而在我的结构中最终所有的静态资源都是需要被处理的， 所以都放到了 <code>assets</code> 里边</p>
<h3 id="解决多项目多入口的问题"><a href="#解决多项目多入口的问题" class="headerlink" title="解决多项目多入口的问题"></a>解决多项目多入口的问题</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&quot;build&quot;: &quot;rimraf dist &amp;&amp; mkdirp dist &amp;&amp; ncp src/assets dist/static &amp;&amp; cross-env NODE_ENV=production webpack --progress --hide-modules --config build/webpack.prod.conf.js&quot;,</span><br></pre></td></tr></table></figure>
<p>这里的static表示在dist下面新建一个static文件夹</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">output: &#123;</span><br><span class="line">  path: path.resolve(__dirname, &apos;../dist/static/littleboy/&apos;),</span><br><span class="line">  publicPath: &apos;/static/littleboy/&apos;,</span><br><span class="line">  filename: &apos;[name].js&apos;</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>
<p>在<code>webpack.base.conf.js</code>中的片段，path表示输出到哪个目录，而<code>publicPath</code>表示的是在生成的html中的link和src的前缀是什么.</p>
<p><a href="https://github.com/codeinthedark/editor/issues/4" target="_blank" rel="noopener">遇到奇葩问题</a></p>
<h3 id="router使用HTML5的API时候需要注意nginx和apache配置"><a href="#router使用HTML5的API时候需要注意nginx和apache配置" class="headerlink" title="router使用HTML5的API时候需要注意nginx和apache配置"></a>router使用HTML5的API时候需要注意nginx和apache配置</h3><p>在配置SPA路由的时候，如果使用H5的historyAPI方式，当用户进入到任何一个页面需要刷新的时候，如果不做特殊配置就会报404错误，这个时候需要Nginx或者Apache做一些rewrite配置，<a href="http://readystate4.com/2012/05/17/nginx-and-apache-rewrite-to-support-html5-pushstate/" target="_blank" rel="noopener">参考</a></p>
<p>而实用hash的方式，则不需要额外配置。</p>
<p>举例说明</p>
<ol>
<li>前端 /a -&gt; /b 浏览器的地址栏变了，location.search变了，这个时候，点击刷新的时候，请求直接到server上，如果server不做配置，那么很可能直接返回404，解决方案就是在server上做一个路由配置，每次都到入口，入口的前端路由在跳转到/b上</li>
<li>前端 #!/a -&gt; #!/b 浏览器的地址栏不变，变得是location.hash,  这个时候点击刷新的时候，请求直接还是到入口，入口根据hash直接跳回就行了，不需要做server端配置</li>
</ol>
<h3 id="linkActiveClass定义链接被激活时候的样式"><a href="#linkActiveClass定义链接被激活时候的样式" class="headerlink" title="linkActiveClass定义链接被激活时候的样式"></a>linkActiveClass定义链接被激活时候的样式</h3><p>配置路由的时候的选项 <code>linkActiveClass</code> 定义链接被激活时候的样式 <code>activeClass</code> 是具体 <code>v-link=&quot;{path: &#39;sdsd&#39;, activeClass: &#39;&#39; }&quot;</code> </p>
<p>比如</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;a v-link=&quot;&#123; path: &apos;/abc&apos;, replace: true &#125;&quot;&gt;&lt;/a&gt;</span><br></pre></td></tr></table></figure>
<h3 id="编译的时候报错，然后重新安装了package，然后发现class”icon-location”少写一个等于号"><a href="#编译的时候报错，然后重新安装了package，然后发现class”icon-location”少写一个等于号" class="headerlink" title="编译的时候报错，然后重新安装了package，然后发现class”icon-location”少写一个等于号"></a>编译的时候报错，然后重新安装了package，然后发现class”icon-location”少写一个等于号</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ERROR in ./~/vue-html-loader!./~/vue-loader/lib/selector.js?type=template&amp;index=0!./src/components/littleboy/HomePage.vue</span><br><span class="line">Module build failed:</span><br><span class="line"> @ ./src/components/littleboy/HomePage.vue 4:19-135</span><br></pre></td></tr></table></figure>
<p>把 <code>=</code> 加上即可。</p>
<h3 id="实现页面切换效果"><a href="#实现页面切换效果" class="headerlink" title="实现页面切换效果"></a>实现页面切换效果</h3><p>transition 特性可以与下面资源一起用：</p>
<ul>
<li>v-if</li>
<li>v-show</li>
<li>v-for （只为插入和删除触发）</li>
<li>动态组件 （介绍见组件）</li>
<li>在组件的根节点上，并且被 Vue 实例 DOM 方法（如 vm.$appendTo(el)）触发。</li>
</ul>
<p>参考的资源</p>
<ol>
<li><a href="http://www.html-js.com/article/Vuejs-Chinese-introductory-tutorial-Vuejs-9-transition-animation" target="_blank" rel="noopener">http://www.html-js.com/article/Vuejs-Chinese-introductory-tutorial-Vuejs-9-transition-animation</a></li>
<li><a href="http://cn.vuejs.org/guide/transitions.html" target="_blank" rel="noopener">http://cn.vuejs.org/guide/transitions.html</a></li>
<li><a href="http://www.w3cplus.com/content/css3-transform" target="_blank" rel="noopener">http://www.w3cplus.com/content/css3-transform</a></li>
<li><a href="http://www.w3cplus.com/content/css3-transition" target="_blank" rel="noopener">http://www.w3cplus.com/content/css3-transition</a></li>
<li><a href="http://www.w3cplus.com/content/css3-animation" target="_blank" rel="noopener">http://www.w3cplus.com/content/css3-animation</a></li>
<li><a href="https://jsfiddle.net/yyx990803/02x41rot/" target="_blank" rel="noopener">https://jsfiddle.net/yyx990803/02x41rot/</a> – 这个不错</li>
</ol>
<h2 id="实现路由切换V1"><a href="#实现路由切换V1" class="headerlink" title="实现路由切换V1"></a>实现路由切换V1</h2><p><code>.vue</code>文件</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div id=&quot;app&quot;&gt;</span><br><span class="line">    &lt;top-notice&gt;&lt;/top-notice&gt;</span><br><span class="line">    &lt;!-- &lt;div id=&apos;routerWrap&apos;&gt; --&gt;</span><br><span class="line">      &lt;component :is=&quot;view&quot; transition=&quot;slide&quot; transition-mode=&quot;out&quot; :v-show=&quot;show&quot;&gt;</span><br><span class="line">        &lt;router-view&gt;&lt;/router-view&gt;</span><br><span class="line">      &lt;/component&gt;</span><br><span class="line">    &lt;!-- &lt;/div&gt; --&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">import TopNotice from &apos;../common/TopNotice&apos;</span><br><span class="line">import ErrorPage from &apos;../common/ErrorPage&apos;</span><br><span class="line">import Introduce from &apos;./IntroducePage&apos;</span><br><span class="line">import HomePage from &apos;./HomePage&apos;</span><br><span class="line">import LoginPage from &apos;./LoginPage&apos;</span><br><span class="line">import ProvisionPage from &apos;./ProvisionPage&apos;</span><br><span class="line">import PayStatusPage from &apos;./PayStatusPage&apos;</span><br><span class="line"></span><br><span class="line">export default &#123;</span><br><span class="line">  data () &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      view: &apos;&apos;,</span><br><span class="line">      show: false</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  components: &#123;</span><br><span class="line">    topNotice: TopNotice,</span><br><span class="line"></span><br><span class="line">    home: HomePage,</span><br><span class="line">    error: ErrorPage,</span><br><span class="line">    introduce: Introduce,</span><br><span class="line">    login: LoginPage,</span><br><span class="line">    provision: ProvisionPage,</span><br><span class="line">    paystatus: PayStatusPage</span><br><span class="line">  &#125;,</span><br><span class="line">  ready: function () &#123;</span><br><span class="line">    var route = this.$route</span><br><span class="line">    if (route &amp;&amp; route.name) &#123;</span><br><span class="line">      console.log(&apos;App page ready, switch &apos; + route.name)</span><br><span class="line">      this.$set(&apos;view&apos;, route.name)</span><br><span class="line">      this.$set(&apos;show&apos;, true)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  events: &#123;</span><br><span class="line">    &apos;showNotice&apos;: function (d) &#123;</span><br><span class="line">      var com = this.$children[0]</span><br><span class="line">      com.$set(&apos;noticeDesc&apos;, d.noticeDesc)</span><br><span class="line">      com = null</span><br><span class="line">    &#125;,</span><br><span class="line">    &apos;switchPage&apos;: function (d) &#123;</span><br><span class="line">      console.log(&apos;switch to &apos; + d)</span><br><span class="line">      this.$set(&apos;view&apos;, d)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>
<p>main.js</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">// import &apos;../../assets/common/css/normalize.css&apos;</span><br><span class="line">import &apos;../../assets/common/css/layout.css&apos;</span><br><span class="line">import &apos;../../assets/common/css/common.css&apos;</span><br><span class="line">import Vue from &apos;vue&apos;</span><br><span class="line">import App from &apos;../../components/littleboy/App&apos;</span><br><span class="line">import VueRouter from &apos;vue-router&apos;</span><br><span class="line">import VueResource from &apos;vue-resource&apos;</span><br><span class="line">import VueTapClick from &apos;../../assets/common/js/vue-tap-click&apos;</span><br><span class="line">import configRoutes from &apos;./routes.js&apos;</span><br><span class="line"></span><br><span class="line">Vue.use(VueResource)</span><br><span class="line">Vue.http.options.emulateJSON = true</span><br><span class="line">Vue.http.options.root = &apos;http://10.10.40.3:8080&apos;</span><br><span class="line">Vue.use(VueTapClick)</span><br><span class="line"></span><br><span class="line">/* eslint-disable no-new */</span><br><span class="line">new Vue(&#123;</span><br><span class="line">  el: &apos;body&apos;,</span><br><span class="line">  data: &#123;&#125;,</span><br><span class="line">  components: &#123;</span><br><span class="line">    app: App</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">// 应用路由</span><br><span class="line">Vue.use(VueRouter)</span><br><span class="line">const router = new VueRouter(&#123;</span><br><span class="line">  history: true,</span><br><span class="line">  // hashbang: true,</span><br><span class="line">  saveScrollPosition: true,</span><br><span class="line">  suppressTransitionError: true</span><br><span class="line">&#125;)</span><br><span class="line">configRoutes(router)</span><br><span class="line">router.start(App, &apos;#app&apos;)</span><br></pre></td></tr></table></figure>
<p>router.js</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">import ProvisionPage from &apos;../../components/littleboy/ProvisionPage&apos;</span><br><span class="line">import IntroducePage from &apos;../../components/littleboy/IntroducePage&apos;</span><br><span class="line">import HomePage from &apos;../../components/littleboy/HomePage&apos;</span><br><span class="line">import LoginPage from &apos;../../components/littleboy/LoginPage&apos;</span><br><span class="line">import PayPage from &apos;../../components/littleboy/PayPage&apos;</span><br><span class="line">import PayStatusPage from &apos;../../components/littleboy/PayStatusPage&apos;</span><br><span class="line">import ErrorPage from &apos;../../components/common/ErrorPage&apos;</span><br><span class="line"></span><br><span class="line">export default function (router) &#123;</span><br><span class="line">  router.map(&#123;</span><br><span class="line">    &apos;/&apos;: &#123;</span><br><span class="line">      name: &apos;home&apos;,</span><br><span class="line">      component: HomePage</span><br><span class="line">    &#125;,</span><br><span class="line">    &apos;/login&apos;: &#123;</span><br><span class="line">      name: &apos;login&apos;,</span><br><span class="line">      component: LoginPage</span><br><span class="line">    &#125;,</span><br><span class="line">    &apos;/provision&apos;: &#123;</span><br><span class="line">      name: &apos;provision&apos;,</span><br><span class="line">      component: ProvisionPage</span><br><span class="line">    &#125;,</span><br><span class="line">    &apos;/introduce&apos;: &#123;</span><br><span class="line">      name: &apos;introduce&apos;,</span><br><span class="line">      component: IntroducePage</span><br><span class="line">    &#125;,</span><br><span class="line">    &apos;/pay&apos;: &#123;</span><br><span class="line">      component: PayPage</span><br><span class="line">    &#125;,</span><br><span class="line">    &apos;/paystatus&apos;: &#123;</span><br><span class="line">      &apos;name&apos;: &apos;paystatus&apos;,</span><br><span class="line">      component: PayStatusPage</span><br><span class="line">    &#125;,</span><br><span class="line">    &apos;/error&apos;: &#123;</span><br><span class="line">      name: &apos;error&apos;,</span><br><span class="line">      component: ErrorPage</span><br><span class="line">    &#125;,</span><br><span class="line">    &apos;*&apos;: &#123;</span><br><span class="line">      name: &apos;index&apos;,</span><br><span class="line">      component: HomePage</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>这样会导致页面跳转的时候即使有动画效果，但是浏览器URL没有变化，这不行啊！</p>
<h3 id="路由跳转V2"><a href="#路由跳转V2" class="headerlink" title="路由跳转V2"></a>路由跳转V2</h3><p>this.show = true<br>var route = this.$route</p>
<p>if (route &amp;&amp; route.name) {<br> // console.log(‘App page ready, switch ‘ + route.name)<br> // this.$set(‘view’, route.name)<br> // this.$set(‘show’, true)<br>}</p>
<p>直接在app.vue中加</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;router-view transition=&quot;slide&quot; transition-mode=&quot;out&quot; keep-alive&gt;&lt;/router-view&gt;</span><br></pre></td></tr></table></figure>
<p>这样进入首页 首页通过isShow控制的，有过渡效果<br>而直接进入introduce没有过度的动画效果</p>
<h3 id="事件分发触发监听等"><a href="#事件分发触发监听等" class="headerlink" title="事件分发触发监听等"></a>事件分发触发监听等</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">- 使用 $on() 监听事件； - 使用 $emit() 在它上面触发事件； - 使用 $dispatch() 派发事件，事件沿着父链冒泡； - 使用 $broadcast() 广播事件，事件向下传导给所有的后代。</span><br></pre></td></tr></table></figure>
<h3 id="滚动比较慢"><a href="#滚动比较慢" class="headerlink" title="滚动比较慢"></a>滚动比较慢</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">-webkit-overflow-scrolling: touch;</span><br></pre></td></tr></table></figure>
<h3 id="上传图片的时候遇到此问题"><a href="#上传图片的时候遇到此问题" class="headerlink" title="上传图片的时候遇到此问题"></a>上传图片的时候遇到此问题</h3><p><img src="http://o77qh5rkr.bkt.clouddn.com/14610445225996.jpg" alt=""></p>
<p><a href="http://stackoverflow.com/questions/17415084/multipart-data-post-using-python-requests-no-multipart-boundary-was-found" target="_blank" rel="noopener">解决方案</a></p>
<h3 id="参考链接"><a href="#参考链接" class="headerlink" title="参考链接"></a>参考链接</h3><p><a href="http://www.ruanyifeng.com/blog/2015/02/mvcmvp_mvvm.html" target="_blank" rel="noopener">MVC/MVP/MVVM的区别</a><br><a href="http://web.jobbole.com/81990/" target="_blank" rel="noopener">开发无框架SPA</a><br><a href="http://www.csdn.net/article/2015-05-11/2824656-fontend-Frameworks" target="_blank" rel="noopener">如何挑选适合的前端框架</a><br><a href="https://segmentfault.com/a/1190000002551952" target="_blank" rel="noopener">Webpack入门指南</a><br><a href="https://www.zfanw.com/blog/webpack-tutorial.html" target="_blank" rel="noopener">Webpack使用教程</a><br><a href="http://www.w3cplus.com/css3/how-to-turn-your-icons-into-a-web-font.html" target="_blank" rel="noopener">SVG图标换成web字体</a><br><a href="http://font-spider.org/" target="_blank" rel="noopener">字铸压缩字体</a><br><a href="http://qianduanblog.com/post/css-learning-16-css3-flex-responsive-design.html" target="_blank" rel="noopener">flex布局</a><br><a href="https://github.com/bcomnes/sublime-standard-format" target="_blank" rel="noopener">https://github.com/bcomnes/sublime-standard-format</a><br><a href="http://sass-lang.com/documentation/file.INDENTED_SYNTAX.html" target="_blank" rel="noopener">sass indentedSyntax 语法</a><br><a href="http://zcw.me/blogwp/front-end-urldecode-gbk/" target="_blank" rel="noopener">纯前端解决编码问题</a><br><a href="http://www.ruanyifeng.com/blog/2010/02/url_encoding.html" target="_blank" rel="noopener">前端编码</a><br><a href="http://ued.taobao.org/blog/2011/08/encode-war/" target="_blank" rel="noopener">前端编码战</a><br><a href="http://www.cnblogs.com/axes/p/4603984.html" target="_blank" rel="noopener">图片做压缩</a></p>

      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2016/07/16/Sublime-html-css-js-format/" rel="next" title="Sublime-html-css-js-format">
                <i class="fa fa-chevron-left"></i> Sublime-html-css-js-format
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2016/07/16/Sublime-package-sublimelinter-four-pattern/" rel="prev" title="Sublime-package-sublimelinter-four-pattern">
                Sublime-package-sublimelinter-four-pattern <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>


  </div>


          </div>
          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            Table of Contents
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            Overview
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image"
                src="/images/avatar.gif"
                alt="liujiangbei" />
            
              <p class="site-author-name" itemprop="name">liujiangbei</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          
            <nav class="site-state motion-element">
              
                <div class="site-state-item site-state-posts">
                
                  <a href="/archives/">
                
                    <span class="site-state-item-count">218</span>
                    <span class="site-state-item-name">posts</span>
                  </a>
                </div>
              

              

              
            </nav>
          

          

          
            <div class="links-of-author motion-element">
              
                <span class="links-of-author-item">
                  <a href="https://github.com/liujb" target="_blank" title="GitHub"><i class="fa fa-fw fa-github"></i></a>
                  
                </span>
              
                <span class="links-of-author-item">
                  <a href="mailto:liujiangbei88@gmail.com" target="_blank" title="Mail"><i class="fa fa-fw fa-envelope"></i></a>
                  
                </span>
              
                <span class="links-of-author-item">
                  <a href="https://twitter.com/liujiangbei" target="_blank" title="Twitter"><i class="fa fa-fw fa-twitter"></i></a>
                  
                </span>
              
            </div>
          

          
          

          
          

          
            
          
          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#Back-to-frontend-and-use-vuejs-build-SPA"><span class="nav-number">1.</span> <span class="nav-text">Back-to-frontend-and-use-vuejs-build-SPA</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Vue入门笔记"><span class="nav-number">2.</span> <span class="nav-text">Vue入门笔记</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#实例化Vue"><span class="nav-number">2.0.1.</span> <span class="nav-text">实例化Vue</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#创建组件构造函数"><span class="nav-number">2.0.2.</span> <span class="nav-text">创建组件构造函数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#注册组件以便使用组件"><span class="nav-number">2.0.3.</span> <span class="nav-text">注册组件以便使用组件</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#组件局部注册"><span class="nav-number">2.0.4.</span> <span class="nav-text">组件局部注册</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#组件的生命周期"><span class="nav-number">2.0.5.</span> <span class="nav-text">组件的生命周期</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#vue-cli-使用"><span class="nav-number">3.</span> <span class="nav-text">vue-cli 使用</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#使用实战"><span class="nav-number">3.1.</span> <span class="nav-text">使用实战</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#安装"><span class="nav-number">3.1.1.</span> <span class="nav-text">安装</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#创建项目"><span class="nav-number">3.1.2.</span> <span class="nav-text">创建项目</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#安装依赖包"><span class="nav-number">3.1.3.</span> <span class="nav-text">安装依赖包</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#启动程序"><span class="nav-number">3.1.4.</span> <span class="nav-text">启动程序</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#遇到的问题"><span class="nav-number">3.2.</span> <span class="nav-text">遇到的问题</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#如果引入全局CSS"><span class="nav-number">3.2.1.</span> <span class="nav-text">如果引入全局CSS</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Vue组件绑定事件"><span class="nav-number">3.2.2.</span> <span class="nav-text">Vue组件绑定事件</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#组件使用"><span class="nav-number">3.2.3.</span> <span class="nav-text">组件使用</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#如何使用Ajax"><span class="nav-number">3.2.4.</span> <span class="nav-text">如何使用Ajax</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#如何在组件中共享数据"><span class="nav-number">3.2.5.</span> <span class="nav-text">如何在组件中共享数据</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#使用webpack构建的时候报错"><span class="nav-number">3.2.6.</span> <span class="nav-text">使用webpack构建的时候报错</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#如何优雅的从外部传递初始化组件"><span class="nav-number">3.2.7.</span> <span class="nav-text">如何优雅的从外部传递初始化组件</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#store模式"><span class="nav-number">3.2.8.</span> <span class="nav-text">store模式</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#assets和static区别"><span class="nav-number">3.2.9.</span> <span class="nav-text">assets和static区别</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#解决多项目多入口的问题"><span class="nav-number">3.2.10.</span> <span class="nav-text">解决多项目多入口的问题</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#router使用HTML5的API时候需要注意nginx和apache配置"><span class="nav-number">3.2.11.</span> <span class="nav-text">router使用HTML5的API时候需要注意nginx和apache配置</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#linkActiveClass定义链接被激活时候的样式"><span class="nav-number">3.2.12.</span> <span class="nav-text">linkActiveClass定义链接被激活时候的样式</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#编译的时候报错，然后重新安装了package，然后发现class”icon-location”少写一个等于号"><span class="nav-number">3.2.13.</span> <span class="nav-text">编译的时候报错，然后重新安装了package，然后发现class”icon-location”少写一个等于号</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#实现页面切换效果"><span class="nav-number">3.2.14.</span> <span class="nav-text">实现页面切换效果</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#实现路由切换V1"><span class="nav-number">3.3.</span> <span class="nav-text">实现路由切换V1</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#路由跳转V2"><span class="nav-number">3.3.1.</span> <span class="nav-text">路由跳转V2</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#事件分发触发监听等"><span class="nav-number">3.3.2.</span> <span class="nav-text">事件分发触发监听等</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#滚动比较慢"><span class="nav-number">3.3.3.</span> <span class="nav-text">滚动比较慢</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#上传图片的时候遇到此问题"><span class="nav-number">3.3.4.</span> <span class="nav-text">上传图片的时候遇到此问题</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#参考链接"><span class="nav-number">3.3.5.</span> <span class="nav-text">参考链接</span></a></li></ol></li></ol></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; 2015 – <span itemprop="copyrightYear">2018</span>
  <span class="with-love" id="animate">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">liujiangbei</span>

  

  
</div>




  <div class="powered-by">Powered by <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> v3.7.1</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">Theme – <a class="theme-link" target="_blank" href="https://theme-next.org">NexT.Gemini</a> v6.4.0</div>




        








        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    
	
    

    
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>














  



  
  



  
  



  
  







  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/canvas-nest/canvas-nest.min.js"></script>
  

  
  
    <script type="text/javascript" src="/lib/three/three.min.js"></script>
  

  
  
    <script type="text/javascript" src="/lib/three/three-waves.min.js"></script>
  

  
  
    <script type="text/javascript" src="/lib/three/canvas_lines.min.js"></script>
  

  
  
    <script type="text/javascript" src="/lib/three/canvas_sphere.min.js"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=6.4.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=6.4.0"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=6.4.0"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=6.4.0"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=6.4.0"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=6.4.0"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=6.4.0"></script>



  



  










  





  

  

  

  

  
  

  

  

  

  

  

</body>
</html>
