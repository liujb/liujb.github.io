<!DOCTYPE html>












  


<html class="theme-next gemini use-motion" lang="">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2"/>
<meta name="theme-color" content="#222">












<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />






















<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=6.4.0" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=6.4.0">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=6.4.0">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=6.4.0">


  <link rel="mask-icon" href="/images/logo.svg?v=6.4.0" color="#222">









<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Gemini',
    version: '6.4.0',
    sidebar: {"position":"right","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: false,
    fastclick: false,
    lazyload: false,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>


  




  <meta property="og:type" content="website">
<meta property="og:title" content="liujb&#39;s blog">
<meta property="og:url" content="http://yoursite.com/page/34/index.html">
<meta property="og:site_name" content="liujb&#39;s blog">
<meta property="og:locale" content="default">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="liujb&#39;s blog">






  <link rel="canonical" href="http://yoursite.com/page/34/"/>



<script type="text/javascript" id="page.configurations">
  CONFIG.page = {
    sidebar: "",
  };
</script>

  <title>liujb's blog</title>
  









  <noscript>
  <style type="text/css">
    .use-motion .motion-element,
    .use-motion .brand,
    .use-motion .menu-item,
    .sidebar-inner,
    .use-motion .post-block,
    .use-motion .pagination,
    .use-motion .comments,
    .use-motion .post-header,
    .use-motion .post-body,
    .use-motion .collection-title { opacity: initial; }

    .use-motion .logo,
    .use-motion .site-title,
    .use-motion .site-subtitle {
      opacity: initial;
      top: initial;
    }

    .use-motion {
      .logo-line-before i { left: initial; }
      .logo-line-after i { right: initial; }
    }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="default">

  
  
    
  

  <div class="container sidebar-position-right 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">liujb's blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
    
  </div>

  <div class="site-nav-toggle">
    <button aria-label="Toggle navigation bar">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>



<nav class="site-nav">
  
    <ul id="menu" class="menu">
      
        
        
        
          
          <li class="menu-item menu-item-home">
    <a href="/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-home"></i> <br />Home</a>
  </li>
        
        
        
          
          <li class="menu-item menu-item-archives">
    <a href="/archives/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />Archives</a>
  </li>
        
        
        
          
          <li class="menu-item menu-item-tags">
    <a href="/tags/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />Tags</a>
  </li>
        
        
        
          
          <li class="menu-item menu-item-about">
    <a href="/about/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-user"></i> <br />About</a>
  </li>

      
      
    </ul>
  

  

  
</nav>



  



</div>
    </header>

    


    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          
            

          
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2016/01/20/Socket.io快速入门/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="liujiangbei">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="liujb's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/01/20/Socket.io快速入门/" itemprop="url">
                  Socket
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2016-01-20 00:00:00" itemprop="dateCreated datePublished" datetime="2016-01-20T00:00:00+08:00">2016-01-20</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Modified: 2018-08-30 22:56:22" itemprop="dateModified" datetime="2018-08-30T22:56:22+08:00">2018-08-30</time>
              
            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="Socket-io-introduce"><a href="#Socket-io-introduce" class="headerlink" title="Socket.io-introduce"></a>Socket.io-introduce</h1><p><a href="https://github.com/nswbmw/N-chat/wiki/%E7%AC%AC%E4%B8%80%E7%AB%A0-socket.io-%E7%AE%80%E4%BB%8B%E5%8F%8A%E4%BD%BF%E7%94%A8#socketio-%E7%AE%80%E4%BB%8B" target="_blank" rel="noopener">本文参考地址</a></p>
<h4 id="Socket-io-简介"><a href="#Socket-io-简介" class="headerlink" title="Socket.io 简介"></a>Socket.io 简介</h4><ol>
<li>socket.io 是一个为实时应用提供跨平台实时通信的库。socket.io 旨在使实时应用在每个浏览器和移动设备上成为可能，模糊不同的传输机制之间的差异。  </li>
<li>socket.io 的名字源于它使用了浏览器支持并采用的 HTML5 WebSocket 标准，因为并不是所有的浏览器都支持 WebSocket ，所以该库支持一系列降级功能：  </li>
</ol>
<ul>
<li>Adobe® Flash® Socket  </li>
<li>AJAX long polling</li>
<li>AJAX multipart streaming</li>
<li>Forever Iframe</li>
<li>JSONP Polling  </li>
</ul>
<p>在大部分情境下，你都能通过这些功能选择与浏览器保持类似长连接的功能。 </p>
<h4 id="1-安装"><a href="#1-安装" class="headerlink" title="1.安装"></a>1.安装</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install socket.io</span><br></pre></td></tr></table></figure>
<p>若使用Express，则需要再package.json中添加<code>&quot;socket.io&quot;:&quot;*&quot;</code>并<code>npm install</code>即可  </p>
<h4 id="2-Client-index-html"><a href="#2-Client-index-html" class="headerlink" title="2.Client(index.html)"></a>2.Client(index.html)</h4><pre><code>&lt;script src=&quot;/socket.io/socket.io.js&quot;&gt;&lt;/script&gt;
&lt;script&gt;
  var socket = io.connect(&apos;http://localhost&apos;);
  socket.on(&apos;news&apos;, function (data) {
    console.log(data);
    socket.emit(&apos;my other event&apos;, { my: &apos;data&apos; });
  });
&lt;/script&gt;  
</code></pre><p><code>var socket = io.connect(&#39;http://localhost&#39;)</code>表示与本地服务器建立连接。如果socket.io客户端跟服务端在同一台服务器上面也可以使用<code>var socket = io.connect()</code>直接建立本地和服务器连接。</p>
<h4 id="2-Server-app-js"><a href="#2-Server-app-js" class="headerlink" title="2.Server(app.js)"></a>2.Server(app.js)</h4><pre><code>var app = require(&apos;express&apos;)()
  , server = require(&apos;http&apos;).createServer(app)
  , io = require(&apos;socket.io&apos;).listen(server);

server.listen(80);

app.get(&apos;/&apos;, function (req, res) {
  res.sendfile(__dirname + &apos;/index.html&apos;);
});

io.sockets.on(&apos;connection&apos;, function (socket) {
  socket.emit(&apos;news&apos;, { hello: &apos;world&apos; });
  socket.on(&apos;my other event&apos;, function (data) {
    console.log(data);
  });
});
</code></pre><p>其中<code>io = require(&#39;socket.io&#39;).listen(server);</code>将socket.io绑定到服务器上，于是任何连接到该服务器的客户端都具备了实时通信功能。  </p>
<h4 id="3-Socket-io核心函数"><a href="#3-Socket-io核心函数" class="headerlink" title="3.Socket.io核心函数"></a>3.Socket.io核心函数</h4><ul>
<li>emit：<br>  用来发射一个事件或者触发一个事件，第一个参数为事件名，第二个参数为要发送的数据，第三个参数为回调函数（一般都省略，如需要对方接收到信息后立即确认，则需要用到回调函数）</li>
<li>on：<br>  用来监听一个emit发送的事件，第一个参数为要监听的事件名，第二个参数为一个匿名函数用来接收对方发送来的数据，该匿名函数的第一个参数为接收的数据，若有第二个参数则为要返回的函数。</li>
<li>默认的事件</li>
</ul>
<blockquote>
<p>connect：当与对方建立连接后自动触发connect事件。<br>message：当收到对方发来的数据后触发message事件（通常为socket.send()）<br>disconnect：当对方关闭连接后触发disconnect事件。</p>
</blockquote>
<h4 id="4-注意点"><a href="#4-注意点" class="headerlink" title="4.注意点"></a>4.注意点</h4><ul>
<li>socket.emit()：向建立该连接的客户端广播。</li>
<li>socket.broadcast.emit()：向除去建立该连接的客户端的所有客户端广播。</li>
<li>io.sockets.emit()：向所有客户端广播，等同于上面两个之和。</li>
</ul>

          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2016/01/20/Sublimelinter之PHP/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="liujiangbei">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="liujb's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/01/20/Sublimelinter之PHP/" itemprop="url">
                  Sublimelinter之PHP
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2016-01-20 00:00:00" itemprop="dateCreated datePublished" datetime="2016-01-20T00:00:00+08:00">2016-01-20</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Modified: 2020-03-04 16:56:48" itemprop="dateModified" datetime="2020-03-04T16:56:48+08:00">2020-03-04</time>
              
            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h4 id="写在前边"><a href="#写在前边" class="headerlink" title="写在前边"></a>写在前边</h4><p>配置sublimelinter的php语法检测，本来很简单的事情，却折腾了好一会，主要是怪自己眼瞎！</p>
<h4 id="配置过程"><a href="#配置过程" class="headerlink" title="配置过程"></a>配置过程</h4><p>安装<code>sublimelinter</code>，并且都用上了<code>sublimelineter-jshint</code>，在js代码中都用上了，按说php雷同不应该出现问题。</p>
<p>安装了<code>sublimelinter-phplint</code>，然后还在乐呵乐呵的配置<code>paths</code></p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">"paths": &#123;</span><br><span class="line">  "linux": [],</span><br><span class="line">  "osx": [</span><br><span class="line">      <span class="string">"/usr/local/bin/"</span></span><br><span class="line">  ],</span><br><span class="line">  "windows": []</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>最后效果没出来，就一直Google，一直纠结以为是路径配错了，以为是sublime版本问题，一看网上文章大多数都是sublime text 2的，咋就是不生效，结果，请看神图！！！</p>
<p><img src="https://cdn.jsdelivr.net/gh/liujb/imgbed/img/QQ20150930-1.png" alt=""></p>
<h4 id="最后效果"><a href="#最后效果" class="headerlink" title="最后效果"></a>最后效果</h4><p><img src="https://cdn.jsdelivr.net/gh/liujb/imgbed/img/QQ20150930-2.png" alt=""></p>
<h4 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h4><p>四种php lint，每一种都是不同的引擎，所以要严格区分。</p>
<p><a href="http://my.oschina.net/cxz001/blog/204592" target="_blank" rel="noopener">参考文章</a> 后面的评论是鄙人写的。</p>

          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2016/01/20/Sublime代码折叠和展开设置/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="liujiangbei">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="liujb's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/01/20/Sublime代码折叠和展开设置/" itemprop="url">
                  Sublime代码折叠和展开设置
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2016-01-20 00:00:00" itemprop="dateCreated datePublished" datetime="2016-01-20T00:00:00+08:00">2016-01-20</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Modified: 2018-08-30 23:02:53" itemprop="dateModified" datetime="2018-08-30T23:02:53+08:00">2018-08-30</time>
              
            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="sublime-text-3的代码折叠快捷键"><a href="#sublime-text-3的代码折叠快捷键" class="headerlink" title="sublime text 3的代码折叠快捷键"></a>sublime text 3的代码折叠快捷键</h3><h4 id="全部折叠"><a href="#全部折叠" class="headerlink" title="全部折叠:"></a>全部折叠:</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Ctrl+kt(win/Linux) CMD+kt(Mac)</span><br></pre></td></tr></table></figure>
<h4 id="全部展开"><a href="#全部展开" class="headerlink" title="全部展开"></a>全部展开</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Ctrl+kj(win/Linux) CMD+kj(Mac)</span><br></pre></td></tr></table></figure>
<h4 id="还有更加精确的控制-在Key-Bingdings-Default设置里-你可以搜索”fold”-然后你会看到如下"><a href="#还有更加精确的控制-在Key-Bingdings-Default设置里-你可以搜索”fold”-然后你会看到如下" class="headerlink" title="还有更加精确的控制, 在Key Bingdings - Default设置里,你可以搜索”fold”,然后你会看到如下:"></a>还有更加精确的控制, 在Key Bingdings - Default设置里,你可以搜索”fold”,然后你会看到如下:</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&#123; &quot;keys&quot;: [&quot;super+alt+[&quot;], &quot;command&quot;: &quot;fold&quot; &#125;, </span><br><span class="line">&#123; &quot;keys&quot;: [&quot;super+alt+]&quot;], &quot;command&quot;: &quot;unfold&quot; &#125;, </span><br><span class="line">&#123; &quot;keys&quot;: [&quot;super+k&quot;, &quot;super+1&quot;], &quot;command&quot;: &quot;fold_by_level&quot;, &quot;args&quot;: &#123;&quot;level&quot;: 1&#125; &#125;, </span><br><span class="line">&#123; &quot;keys&quot;: [&quot;super+k&quot;, &quot;super+2&quot;], &quot;command&quot;: &quot;fold_by_level&quot;, &quot;args&quot;: &#123;&quot;level&quot;: 2&#125; &#125;, </span><br><span class="line">&#123; &quot;keys&quot;: [&quot;super+k&quot;, &quot;super+3&quot;], &quot;command&quot;: &quot;fold_by_level&quot;, &quot;args&quot;: &#123;&quot;level&quot;: 3&#125; &#125;, </span><br><span class="line">&#123; &quot;keys&quot;: [&quot;super+k&quot;, &quot;super+4&quot;], &quot;command&quot;: &quot;fold_by_level&quot;, &quot;args&quot;: &#123;&quot;level&quot;: 4&#125; &#125;, </span><br><span class="line">&#123; &quot;keys&quot;: [&quot;super+k&quot;, &quot;super+5&quot;], &quot;command&quot;: &quot;fold_by_level&quot;, &quot;args&quot;: &#123;&quot;level&quot;: 5&#125; &#125;, </span><br><span class="line">&#123; &quot;keys&quot;: [&quot;super+k&quot;, &quot;super+6&quot;], &quot;command&quot;: &quot;fold_by_level&quot;, &quot;args&quot;: &#123;&quot;level&quot;: 6&#125; &#125;, </span><br><span class="line">&#123; &quot;keys&quot;: [&quot;super+k&quot;, &quot;super+7&quot;], &quot;command&quot;: &quot;fold_by_level&quot;, &quot;args&quot;: &#123;&quot;level&quot;: 7&#125; &#125;, </span><br><span class="line">&#123; &quot;keys&quot;: [&quot;super+k&quot;, &quot;super+8&quot;], &quot;command&quot;: &quot;fold_by_level&quot;, &quot;args&quot;: &#123;&quot;level&quot;: 8&#125; &#125;, </span><br><span class="line">&#123; &quot;keys&quot;: [&quot;super+k&quot;, &quot;super+9&quot;], &quot;command&quot;: &quot;fold_by_level&quot;, &quot;args&quot;: &#123;&quot;level&quot;: 9&#125; &#125;, </span><br><span class="line">&#123; &quot;keys&quot;: [&quot;super+k&quot;, &quot;super+0&quot;], &quot;command&quot;: &quot;unfold_all&quot; &#125;, </span><br><span class="line">&#123; &quot;keys&quot;: [&quot;super+k&quot;, &quot;super+j&quot;], &quot;command&quot;: &quot;unfold_all&quot; &#125;, </span><br><span class="line">&#123; &quot;keys&quot;: [&quot;super+k&quot;, &quot;super+t&quot;], &quot;command&quot;: &quot;fold_tag_attributes&quot; &#125;,</span><br></pre></td></tr></table></figure>

          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2016/01/20/Ubuntu安装不同的桌面/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="liujiangbei">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="liujb's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/01/20/Ubuntu安装不同的桌面/" itemprop="url">
                  Ubuntu安装不同的桌面
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2016-01-20 00:00:00" itemprop="dateCreated datePublished" datetime="2016-01-20T00:00:00+08:00">2016-01-20</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Modified: 2018-09-01 22:57:56" itemprop="dateModified" datetime="2018-09-01T22:57:56+08:00">2018-09-01</time>
              
            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h4 id="Ubuntu安装XFCE桌面"><a href="#Ubuntu安装XFCE桌面" class="headerlink" title="Ubuntu安装XFCE桌面"></a>Ubuntu安装XFCE桌面</h4><ol>
<li><code>ctrl+alt+T</code> – 打开终端</li>
<li><code>sudo apt-get update</code> –</li>
<li><code>sudo apt-get install xfce4</code> –</li>
<li><code>Log out</code> – </li>
<li><code>Log in</code></li>
</ol>
<h4 id="Ubuntu安装Xubuntu的桌面"><a href="#Ubuntu安装Xubuntu的桌面" class="headerlink" title="Ubuntu安装Xubuntu的桌面"></a>Ubuntu安装Xubuntu的桌面</h4><ol>
<li><code>sudo apt-get install xubuntu-desktop</code></li>
</ol>
<h4 id="Ubuntu安装Gnome桌面"><a href="#Ubuntu安装Gnome桌面" class="headerlink" title="Ubuntu安装Gnome桌面"></a>Ubuntu安装Gnome桌面</h4><ol>
<li><code>sudo apt-get update</code></li>
<li><code>sudo apt-get install gnome-session-fallback</code> – 最精简的版本</li>
<li><code>sudo apt-get install gnome-shell</code> – 稍大的gnome shell，该版本会安装一些额外的应用程序，不过该版本包含GNOME 3</li>
<li><code>sudo apt-get install gnome</code> – 完整版，其不仅含有gnome本身也还有众多的应用，所以体积远远大于前2者，大概400多MB,</li>
</ol>
<h4 id="安装Gnome下的主题"><a href="#安装Gnome下的主题" class="headerlink" title="安装Gnome下的主题"></a>安装Gnome下的主题</h4><p><a href="http://linux.cn/article-4889-1-rss.html" target="_blank" rel="noopener">Gnome安装主题</a></p>

          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2016/01/20/Web开发常见的推拉实时应用/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="liujiangbei">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="liujb's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/01/20/Web开发常见的推拉实时应用/" itemprop="url">
                  Web开发常见的推拉实时应用
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2016-01-20 00:00:00" itemprop="dateCreated datePublished" datetime="2016-01-20T00:00:00+08:00">2016-01-20</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Modified: 2020-03-04 16:56:48" itemprop="dateModified" datetime="2020-03-04T16:56:48+08:00">2020-03-04</time>
              
            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>在用户不主动操作（如刷新页面，点击按钮）的情况下实现web页面更新有这么几种实现方法</p>
<ul>
<li>轮询</li>
</ul>
<ol start="2">
<li>长轮询</li>
<li>长连接</li>
<li>websocket</li>
</ol>
<blockquote>
<p><a href="http://www.zhihu.com/question/19876749" target="_blank" rel="noopener">各类方法的优劣势</a></p>
</blockquote>
<h3 id="轮询-polling"><a href="#轮询-polling" class="headerlink" title="轮询 polling"></a>轮询 polling</h3><p>就是通过页面不停的请求server，不带任何技巧性，简单粗暴.</p>
<p>前端JS通过setTimeout、setInterval来发起Ajax请求或者load iframe来试试更新</p>
<h3 id="长轮询"><a href="#长轮询" class="headerlink" title="长轮询"></a>长轮询</h3><p>客户端向服务器发送Ajax请求，服务器接到请求后hold住连接，直到有新消息才返回响应信息并关闭连接，客户端处理完响应信息后再向服务器发送新的请求。</p>
<p>html</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"msg"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span>     </span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">id</span>=<span class="string">"btn"</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">value</span>=<span class="string">"测试"</span> /&gt;</span></span><br></pre></td></tr></table></figure>
<p>javascript</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  $(<span class="string">"#btn"</span>).bind(<span class="string">"click"</span>, &#123;</span><br><span class="line">    btn: $(<span class="string">"#btn"</span>)</span><br><span class="line">  &#125;, <span class="function"><span class="keyword">function</span> (<span class="params">evdata</span>) </span>&#123;</span><br><span class="line">    </span><br><span class="line">    $.ajax(&#123;</span><br><span class="line">      type: <span class="string">"POST"</span>,</span><br><span class="line">      dataType: <span class="string">"json"</span>,</span><br><span class="line">      url: <span class="string">"data.php"</span>,</span><br><span class="line">      timeout: <span class="number">80000</span>, <span class="comment">//ajax请求超时时间80秒      </span></span><br><span class="line">      data: &#123;</span><br><span class="line">        time: <span class="string">"80"</span></span><br><span class="line">      &#125;, <span class="comment">//40秒后无论结果服务器都返回数据      </span></span><br><span class="line">      success: <span class="function"><span class="keyword">function</span> (<span class="params">data, textStatus</span>) </span>&#123;</span><br><span class="line">        <span class="comment">//从服务器得到数据，显示数据并继续查询      </span></span><br><span class="line">        <span class="keyword">if</span> (data.success == <span class="string">"1"</span>) &#123;</span><br><span class="line">          $(<span class="string">"#msg"</span>).append(<span class="string">"&lt;br&gt;[有数据]"</span> + data.text);</span><br><span class="line">          evdata.data.btn.click();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//未从服务器得到数据，继续查询      </span></span><br><span class="line">        <span class="keyword">if</span> (data.success == <span class="string">"0"</span>) &#123;</span><br><span class="line">          $(<span class="string">"#msg"</span>).append(<span class="string">"&lt;br&gt;[无数据]"</span>);</span><br><span class="line">          evdata.data.btn.click();</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="comment">//Ajax请求超时，继续查询      </span></span><br><span class="line">      error: <span class="function"><span class="keyword">function</span> (<span class="params">XMLHttpRequest, textStatus, errorThrown</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (textStatus == <span class="string">"timeout"</span>) &#123;</span><br><span class="line">          $(<span class="string">"#msg"</span>).append(<span class="string">"&lt;br&gt;[超时]"</span>);</span><br><span class="line">          evdata.data.btn.click();</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>php</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(emptyempty($_POST[<span class="string">'time'</span>]))<span class="keyword">exit</span>();      </span><br><span class="line">set_time_limit(<span class="number">0</span>);<span class="comment">//无限请求超时时间      </span></span><br><span class="line">$i=<span class="number">0</span>;      </span><br><span class="line"><span class="keyword">while</span> (<span class="keyword">true</span>)&#123;      </span><br><span class="line">    <span class="comment">//sleep(1);      </span></span><br><span class="line">    usleep(<span class="number">500000</span>);<span class="comment">//0.5秒      </span></span><br><span class="line">    $i++;      </span><br><span class="line">          </span><br><span class="line">    <span class="comment">//若得到数据则马上返回数据给客服端，并结束本次请求      </span></span><br><span class="line">    $rand=rand(<span class="number">1</span>,<span class="number">999</span>);      </span><br><span class="line">    <span class="keyword">if</span>($rand&lt;=<span class="number">15</span>)&#123;      </span><br><span class="line">        $arr=<span class="keyword">array</span>(<span class="string">'success'</span>=&gt;<span class="string">"1"</span>,<span class="string">'name'</span>=&gt;<span class="string">'xiaocai'</span>,<span class="string">'text'</span>=&gt;$rand);      </span><br><span class="line">        <span class="keyword">echo</span> json_encode($arr);      </span><br><span class="line">        <span class="keyword">exit</span>();      </span><br><span class="line">    &#125;      </span><br><span class="line">          </span><br><span class="line">    <span class="comment">//服务器($_POST['time']*0.5)秒后告诉客服端无数据      </span></span><br><span class="line">    <span class="keyword">if</span>($i==$_POST[<span class="string">'time'</span>])&#123;      </span><br><span class="line">        $arr=<span class="keyword">array</span>(<span class="string">'success'</span>=&gt;<span class="string">"0"</span>,<span class="string">'name'</span>=&gt;<span class="string">'xiaocai'</span>,<span class="string">'text'</span>=&gt;$rand);      </span><br><span class="line">        <span class="keyword">echo</span> json_encode($arr);      </span><br><span class="line">        <span class="keyword">exit</span>();      </span><br><span class="line">    &#125;      </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><a href="http://developer.51cto.com/art/201105/262638.htm" target="_blank" rel="noopener">php实现的长轮询</a></p>
<h3 id="长连接-long-polling"><a href="#长连接-long-polling" class="headerlink" title="长连接 long polling"></a>长连接 long polling</h3><p><a href="https://zh.wikipedia.org/wiki/HTTP%E6%8C%81%E4%B9%85%E8%BF%9E%E6%8E%A5" target="_blank" rel="noopener">什么是长连接</a></p>
<p>实现方式：</p>
<p>在页面里嵌入一个隐蔵iframe，将这个隐蔵iframe的src属性设为对一个长连接的请求或是采用xhr请求，服务器端就能源源不断地往客户端输入数据。</p>
<p>难点在于如何判断连接中断并重新尝试连接。</p>
<p><a href="http://www.cnblogs.com/zhaozhan/archive/2010/09/07/1821021.html" target="_blank" rel="noopener">ASP.NET实现长连接方式</a><br><a href="http://coach.iteye.com/blog/897978" target="_blank" rel="noopener">JAVA实现长连接方式</a></p>
<h3 id="websocket"><a href="#websocket" class="headerlink" title="websocket"></a>websocket</h3><p><a href="https://zh.wikipedia.org/wiki/WebSocket" target="_blank" rel="noopener">什么是websocket</a></p>
<h4 id="跟http的异同"><a href="#跟http的异同" class="headerlink" title="跟http的异同"></a>跟http的异同</h4><ol>
<li>都是基于TCP连接。</li>
<li>两个是不相关的协议，只不过为了兼容现有浏览器的握手规范而已。如</li>
</ol>
<p><img src="https://cdn.jsdelivr.net/gh/liujb/imgbed/img/6651f2f811ec133b0e6d7e6d0e194b4c_b.jpg" alt=""></p>
<h4 id="解决的问题"><a href="#解决的问题" class="headerlink" title="解决的问题"></a>解决的问题</h4><ol>
<li><p>WebSocket 解决的第一个问题是，通过第一个 HTTP request 建立了 TCP 连接之后，之后的交换数据都不需要再发 HTTP request了，使得这个长连接变成了一个真.长连接。但是不需要发送 HTTP header就能交换数据显然和原有的 HTTP 协议是有区别的，所以它需要对服务器和客户端都进行升级才能实现。在此基础上 WebSocket 还是一个双通道的连接，在同一个 TCP 连接上既可以发也可以收信息。此外还有 multiplexing 功能，几个不同的 URI 可以复用同一个 WebSocket 连接。这些都是原来的 HTTP 不能做到的。</p>
</li>
<li><p>有人提问 WebSocket 可能进入某种半死不活的状态。这实际上也是原有网络世界的一些缺陷性设计。上面所说的 WebSocket 真.长连接虽然解决了服务器和客户端两边的问题，但坑爹的是网络应用除了服务器和客户端之外，另一个巨大的存在是中间的网络链路。一个 HTTP/WebSocket 连接往往要经过无数的路由，防火墙。你以为你的数据是在一个“连接”中发送的，实际上它要跨越千山万水，经过无数次转发，过滤，才能最终抵达终点。在这过程中，中间节点的处理方法很可能会让你意想不到。</p>
</li>
</ol>
<p><a href="http://www.zhihu.com/question/20215561" target="_blank" rel="noopener">来自知乎</a></p>
<h3 id="comet"><a href="#comet" class="headerlink" title="comet"></a>comet</h3><p>Comet是一种用于web的推送技术，能使服务器实时地将更新的信息传送到客户端，而无须客户端发出请求，目前有两种实现方式，长轮询和iframe，和stream流。</p>
<p><a href="http://blog.csdn.net/harbinzju/article/details/6283047" target="_blank" rel="noopener">HTTP长连接(Comet)实现方式示例</a><br><a href="http://www.ibm.com/developerworks/cn/web/wa-lo-comet/" target="_blank" rel="noopener">基于 HTTP 长连接的“服务器推”技术</a></p>

          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/33/"><i class="fa fa-angle-left" aria-label="Previous page"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/33/">33</a><span class="page-number current">34</span><a class="page-number" href="/page/35/">35</a><span class="space">&hellip;</span><a class="page-number" href="/page/38/">38</a><a class="extend next" rel="next" href="/page/35/"><i class="fa fa-angle-right" aria-label="Next page"></i></a>
  </nav>



          </div>
          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image"
                src="/images/avatar.gif"
                alt="liujiangbei" />
            
              <p class="site-author-name" itemprop="name">liujiangbei</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          
            <nav class="site-state motion-element">
              
                <div class="site-state-item site-state-posts">
                
                  <a href="/archives/">
                
                    <span class="site-state-item-count">186</span>
                    <span class="site-state-item-name">posts</span>
                  </a>
                </div>
              

              

              
                
                
                <div class="site-state-item site-state-tags">
                  <a href="/tags/index.html">
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">8</span>
                    <span class="site-state-item-name">tags</span>
                  </a>
                </div>
              
            </nav>
          

          

          
            <div class="links-of-author motion-element">
              
                <span class="links-of-author-item">
                  <a href="https://github.com/liujb" target="_blank" title="GitHub"><i class="fa fa-fw fa-github"></i></a>
                  
                </span>
              
                <span class="links-of-author-item">
                  <a href="mailto:liujiangbei88@gmail.com" target="_blank" title="Mail"><i class="fa fa-fw fa-envelope"></i></a>
                  
                </span>
              
                <span class="links-of-author-item">
                  <a href="https://twitter.com/liujiangbei" target="_blank" title="Twitter"><i class="fa fa-fw fa-twitter"></i></a>
                  
                </span>
              
            </div>
          

          
          

          
          

          
            
          
          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; 2015 – <span itemprop="copyrightYear">2020</span>
  <span class="with-love" id="animate">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">liujiangbei</span>

  

  
</div>




  <div class="powered-by">Powered by <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> v3.7.1</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">Theme – <a class="theme-link" target="_blank" href="https://theme-next.org">NexT.Gemini</a> v6.4.0</div>




        








        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    
	
    

    
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>














  



  
  



  
  



  
  







  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/canvas-nest/canvas-nest.min.js"></script>
  

  
  
    <script type="text/javascript" src="/lib/three/three.min.js"></script>
  

  
  
    <script type="text/javascript" src="/lib/three/three-waves.min.js"></script>
  

  
  
    <script type="text/javascript" src="/lib/three/canvas_lines.min.js"></script>
  

  
  
    <script type="text/javascript" src="/lib/three/canvas_sphere.min.js"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=6.4.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=6.4.0"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=6.4.0"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=6.4.0"></script>



  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=6.4.0"></script>



  



  










  





  

  

  

  

  
  

  

  

  

  

  

</body>
</html>
